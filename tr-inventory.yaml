# Define all components for the deployment
# Different subgroups are created to help the deployment process
# No need to modify
[lb:children]
bootstrap
masters

[all_infra:children]
bootstrap
masters
workers
infra

[all_workers:children]
workers
infra

[masters:children]
master0
master1
master2

[workers:children]
worker0
worker1

[infra:children]
infra0
infra1
  

[bootstrap]
bootstrap

[master0]
etcd-0

[master1]
etcd-1

[master2]
etcd-2

[worker0]
worker-0

[worker1]
worker-1

[infra0]
infra-0

[infra1]
infra-1

# Variables which apply for all components
# First vSphere related settings, go through carefully and modify correct settings
[all:vars]
ansible_ssh_user = coreos
vcenter_hostname= 192.168.189.18
vcenter_username= a
vcenter_password= a
datastore= "tpsw1_p1_d4"
vm_folder= "/ocpdemo"
vmware_cluster= "lpvmw-cls"
vmware_datacenter= "Linkplus-Demo"
vmware_template_name= "ocp4-rhcos-4.1.0-latest"

# OCP version which is used to download proper clients from Red Hat
ocp_version= 4.1.8

# Instance network information, used for DHCP configuration
mgmt_gw= 192.168.1.1
bootstrap_gw = 192.168.1.1
masters_gw = 192.168.191.250
workers_gw = 192.168.191.250
infra_gw = 192.168.191.250
mgmt_nm= 255.255.255.0
masters_nm= 255.255.255.0
workers_nm= 255.255.255.0
infra_nm= 255.255.255.0
bootstrap_nm = 255.255.255.0
dns = ["192.168.191.13"]
# External DNS which is given as a default to each node with DHCP
ext_dns= ["172.28.11.111", "172.28.11.112"]
ntp_server= 192.168.100.100

# Environment name and base domain definitions
env_name= ocpdemo
base_domain= lp.int
domain= "{{ env_name }}.{{ base_domain }}"

# Subscription information for OCP installer
pull_secret= '{"auths":{"cloud.openshift.com":{"auth":"a=","email":"abashir@redhat.com"},"quay.io":{"auth":"a=","email":"abashir@redhat.com"},"registry.connect.redhat.com":{"auth":"a==","email":"abashir@redhat.com"},"registry.redhat.io":{"auth":"a==","email":"abashir@redhat.com"}}}'

# Node type specific settings, use this section to define how much resources is allocated
# Note: disk_size should be the same as defined for the template, default of 120GB is currently used
#ansible_ssh_user = core
#ansible_python_interpreter="/home/core/pypy/bin/pypy"


[masters:vars]
cpu= 4
ram_mb= 8192
disk_size= "60"
vmware_network_name= "dvPG_301_Demo1"

[workers:vars]
cpu= 2
ram_mb= 4096
disk_size= "60"
vmware_network_name= "dvPG_301_Demo1"

[infra:vars]
cpu= 2
ram_mb= 4096
disk_size= "60"
vmware_network_name= "dvPG_301_Demo1"

# Bootstrap is only one node, so node + host specific settings are in one place
[bootstrap:vars]
name= bootstrap
fqdn= {{ name }}.{{ env_name }}.{{ base_domain }}
ip= 192.168.191.114
cpu= 4
ram_mb= 8196
disk_size= "120"
vmware_network_name= "dvPG_301_Demo1"
mac="00:50:56:bf:2a:fb"

# Host specific variables, IP should be the only one changed
[master0:vars]
name= etcd-0
ip= 192.168.191.222
fqdn= {{ name }}.{{ env_name }}.{{ base_domain }}
mac= '00:50:56:bf:db:20'

[master1:vars]
name= etcd-1
ip= 192.168.191.223
fqdn= {{ name }}.{{ env_name }}.{{ base_domain }}
mac= "00:50:56:bf:c4:a4"


[master2:vars]
name= etcd-2
ip= 192.168.191.224
fqdn= {{ name }}.{{ env_name }}.{{ base_domain }}
mac= '00:50:56:bf:fb:2c'

[worker0:vars]
name= worker-0
ip= 192.168.191.225
fqdn= {{ name }}.{{ env_name }}.{{ base_domain }}
mac= '00:50:56:bf:6e:af'

[worker1:vars]
name= worker-1
ip= 192.168.191.226
fqdn= {{ name }}.{{ env_name }}.{{ base_domain }}
mac= '00:50:56:bf:b5:c0'

[infra0:vars]
name= infra-0
ip= 192.168.191.227
fqdn= {{ name }}.{{ env_name }}.{{ base_domain }}
mac = '00:50:56:bf:a3:c6'

[infra1:vars]
name= infra-1
ip= 192.168.191.228
fqdn= {{ name }}.{{ env_name }}.{{ base_domain }}
mac= '00:50:56:bf:66:2e'
